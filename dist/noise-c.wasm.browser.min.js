!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).noise_c_wasm=e()}}(function(){var define,module,exports;return function e(t,a,n){function r(s,o){if(!a[s]){if(!t[s]){var u="function"==typeof require&&require;if(!o&&u)return u(s,!0);if(i)return i(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var _=a[s]={exports:{}};t[s][0].call(_.exports,function(e){var a=t[s][1][e];return r(a||e)},_,_.exports,e,t,a,n)}return a[s].exports}for(var i="function"==typeof require&&require,s=0;s<n.length;s++)r(n[s]);return r}({1:[function(require,module,exports){var Module=function(Module){function aa(e){eval.call(null,e)}function assert(e,t){e||H("Assertion failed: "+t)}function ba(e){var t;switch("*"===(t="i32").charAt(t.length-1)&&(t="i32"),t){case"i1":case"i8":return I[e>>0];case"i16":return J[e>>1];case"i32":case"i64":return A[e>>2];case"float":return K[e>>2];case"double":return L[e>>3];default:H("invalid type for setValue: "+t)}return null}function M(e,t,a){var n,r,i;"number"==typeof e?(r=!0,i=e):(r=!1,i=e.length);var s,o="string"==typeof t?t:null;if(s=4==a?n:["function"==typeof N?N:y.p,y.m,y.p,y.u][void 0===a?2:a](Math.max(i,o?1:t.length)),r){for(n=s,assert(0==(3&s)),e=s+(-4&i);n<e;n+=4)A[n>>2]=0;for(e=s+i;n<e;)I[n++>>0]=0;return s}if("i8"===o)return e.subarray||e.slice?O.set(e,s):O.set(new Uint8Array(e),s),s;n=0;for(var u,l;n<i;){var _=e[n];if("function"==typeof _&&(_=y.O(_)),0===(a=o||t[n]))n++;else{"i64"==a&&(a="i32"),r=s+n;var c=a;switch("*"===(c=c||"i8").charAt(c.length-1)&&(c="i32"),c){case"i1":case"i8":I[r>>0]=_;break;case"i16":J[r>>1]=_;break;case"i32":A[r>>2]=_;break;case"i64":tempI64=[_>>>0,(tempDouble=_,1<=+ca(tempDouble)?0<tempDouble?(0|da(+ea(tempDouble/4294967296),4294967295))>>>0:~~+fa((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],A[r>>2]=tempI64[0],A[r+4>>2]=tempI64[1];break;case"float":K[r>>2]=_;break;case"double":L[r>>3]=_;break;default:H("invalid type for setValue: "+c)}l!==a&&(u=y.l(a),l=a),n+=u}}return s}function P(e){var t;if(0===t||!e)return"";for(var n,r=0,i=0;(n=O[e+i>>0],r|=n,0!=n||t)&&(i++,!t||i!=t););if(t||(t=i),n="",128>r){for(;0<t;)r=String.fromCharCode.apply(String,O.subarray(e,e+Math.min(t,1024))),n=n?n+r:r,e+=1024,t-=1024;return n}return a.UTF8ToString(e)}function ga(e,t,a,n){if(0<n){n=a+n-1;for(var r=0;r<e.length;++r){var i=e.charCodeAt(r);if(55296<=i&&57343>=i&&(i=65536+((1023&i)<<10)|1023&e.charCodeAt(++r)),127>=i){if(a>=n)break;t[a++]=i}else{if(2047>=i){if(a+1>=n)break;t[a++]=192|i>>6}else{if(65535>=i){if(a+2>=n)break;t[a++]=224|i>>12}else{if(2097151>=i){if(a+3>=n)break;t[a++]=240|i>>18}else{if(67108863>=i){if(a+4>=n)break;t[a++]=248|i>>24}else{if(a+5>=n)break;t[a++]=252|i>>30,t[a++]=128|i>>24&63}t[a++]=128|i>>18&63}t[a++]=128|i>>12&63}t[a++]=128|i>>6&63}t[a++]=128|63&i}}t[a]=0}}function ha(e){for(var t=0,a=0;a<e.length;++a){var n=e.charCodeAt(a);55296<=n&&57343>=n&&(n=65536+((1023&n)<<10)|1023&e.charCodeAt(++a)),127>=n?++t:t=2047>=n?t+2:65535>=n?t+3:2097151>=n?t+4:67108863>=n?t+5:t+6}return t}function ia(e){return e.replace(/__Z[\w\d_]+/g,function(e){var t;e:{var n=a.___cxa_demangle||a.__cxa_demangle;if(n)try{var r=e.substr(1),i=ha(r)+1,s=N(i);ga(r,O,s,i);var o=N(4),u=n(s,0,0,o);if(0===ba(o)&&u){t=P(u);break e}}catch(e){}finally{s&&Q(s),o&&Q(o),u&&Q(u)}else y.b("warning: build with  -s DEMANGLE_SUPPORT=1  to link in libcxxabi demangling");t=e}return e===t?e:e+" ["+t+"]"})}function ja(){var e;e:{if(!(e=Error()).stack){try{throw Error(0)}catch(t){e=t}if(!e.stack){e="(no stack trace available)";break e}}e=e.stack.toString()}return a.extraStackTrace&&(e+="\n"+a.extraStackTrace()),ia(e)}function ma(){a.HEAP8=I=new Int8Array(buffer),a.HEAP16=J=new Int16Array(buffer),a.HEAP32=A=new Int32Array(buffer),a.HEAPU8=O=new Uint8Array(buffer),a.HEAPU16=ka=new Uint16Array(buffer),a.HEAPU32=la=new Uint32Array(buffer),a.HEAPF32=K=new Float32Array(buffer),a.HEAPF64=L=new Float64Array(buffer)}function F(){H("Cannot enlarge memory arrays. Either (1) compile with  -s TOTAL_MEMORY=X  with X higher than the current value "+E+", (2) compile with  -s ALLOW_MEMORY_GROWTH=1  which allows increasing the size at runtime, or (3) if you want malloc to return NULL (0) instead of this abort, compile with  -s ABORTING_MALLOC=0 ")}function T(e){for(;0<e.length;){var t=e.shift();if("function"==typeof t)t();else{var n=t.K;"number"==typeof n?void 0===t.g?a.dynCall_v(n):a.dynCall_vi(n,t.g):n(void 0===t.g?null:t.g)}}}function wa(){var e=a.preRun.shift();qa.unshift(e)}function xa(e){var t=Array(ha(e)+1);return ga(e,t,0,t.length),t}function Aa(){V++,a.monitorRunDependencies&&a.monitorRunDependencies(V)}function Ba(){if(V--,a.monitorRunDependencies&&a.monitorRunDependencies(V),0==V&&(null!==za&&(clearInterval(za),za=null),W)){var e=W;W=null,e()}}function Y(){return Y.a||(Y.a=[]),Y.a.push(y.o()),Y.a.length-1}function w(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function Ka(e){function t(){if(!a.calledRun&&(a.calledRun=!0,!G)){if(U||(U=!0,T(ra)),T(sa),a.onRuntimeInitialized&&a.onRuntimeInitialized(),a._main&&Na&&a.callMain(e),a.postRun)for("function"==typeof a.postRun&&(a.postRun=[a.postRun]);a.postRun.length;){var t=a.postRun.shift();va.unshift(t)}T(va)}}if(e=e||a.arguments,null===Ia&&(Ia=Date.now()),!(0<V)){if(a.preRun)for("function"==typeof a.preRun&&(a.preRun=[a.preRun]);a.preRun.length;)wa();T(qa),0<V||a.calledRun||(a.setStatus?(a.setStatus("Running..."),setTimeout(function(){setTimeout(function(){a.setStatus("")},1),t()},1)):t())}}function Ma(e,t){t&&a.noExitRuntime||(!a.noExitRuntime&&(G=!0,x=void 0,T(ua),a.onExit)&&a.onExit(e),q&&process.exit(e),a.quit(e,new w(e)))}function H(e){a.onAbort&&a.onAbort(e),void 0!==e?(a.print(e),a.d(e),e=JSON.stringify(e)):e="",G=!0;var t="abort("+e+") at "+ja()+"\nIf this abort() is unexpected, build with -s ASSERTIONS=1 which can give more information.";throw Oa&&Oa.forEach(function(a){t=a(t,e)}),t}Module=Module||{};var Module=Module,a;a||(a=eval("(function() { try { return Module || {} } catch(e) { return {} } })()"));var k={},m;for(m in a)a.hasOwnProperty(m)&&(k[m]=a[m]);var n=!1,p=!1,q=!1,t=!1;if(a.ENVIRONMENT)if("WEB"===a.ENVIRONMENT)n=!0;else if("WORKER"===a.ENVIRONMENT)p=!0;else if("NODE"===a.ENVIRONMENT)q=!0;else{if("SHELL"!==a.ENVIRONMENT)throw Error("The provided Module['ENVIRONMENT'] value is not valid. It must be one of: WEB|WORKER|NODE|SHELL.");t=!0}else n="object"==typeof window,p="function"==typeof importScripts,q="object"==typeof process&&"function"==typeof require&&!n&&!p,t=!n&&!q&&!p;if("function"!=typeof a.locateFile){if(a.memoryInitializerPrefixURL||a.pthreadMainPrefixURL||a.cdInitializerPrefixURL||a.filePackagePrefixURL)throw Error("Module['locateFile'] can't be used together with Module['*PrefixURL'] options; if you need to customize prefix, take a look at Module['scriptDirectory'] option instead");a.scriptDirectory||(a.scriptDirectory=q?__dirname+"/":n&&0!==document.currentScript.src.indexOf("blob:")?document.currentScript.src.split("/").slice(0,-1).join("/")+"/":p?self.location.href.split("/").slice(0,-1).join("/")+"/":""),a.locateFile=function(e){return a.scriptDirectory+e}}if(q){a.print||(a.print=console.log),a.printErr||(a.printErr=console.warn);var u,v;a.read=function(e,t){u||(u=require("fs")),v||(v=require("path")),e=v.normalize(e);var a=u.readFileSync(e);return t?a:a.toString()},a.readBinary=function(e){return(e=a.read(e,!0)).buffer||(e=new Uint8Array(e)),assert(e.buffer),e},a.load=function(e){aa(read(e))},a.thisProgram||(a.thisProgram=1<process.argv.length?process.argv[1].replace(/\\/g,"/"):"unknown-program"),a.arguments=process.argv.slice(2),process.on("uncaughtException",function(e){if(!(e instanceof w))throw e}),a.inspect=function(){return"[Emscripten Module object]"}}else if(t)a.print||(a.print=print),"undefined"!=typeof printErr&&(a.printErr=printErr),a.read="undefined"!=typeof read?read:function(){throw"no read() available"},a.readBinary=function(e){return"function"==typeof readbuffer?new Uint8Array(readbuffer(e)):(e=read(e,"binary"),assert("object"==typeof e),e)},"undefined"!=typeof scriptArgs?a.arguments=scriptArgs:void 0!==arguments&&(a.arguments=arguments),"function"==typeof quit&&(a.quit=function(e){quit(e)}),eval("if (typeof gc === 'function' && gc.toString().indexOf('[native code]') > 0) var gc = undefined");else{if(!n&&!p)throw"Unknown runtime environment. Where are we?";a.read=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},p&&(a.readBinary=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),a.readAsync=function(e,t,a){var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer",n.onload=function(){200==n.status||0==n.status&&n.response?t(n.response):a()},n.onerror=a,n.send(null)},void 0!==arguments&&(a.arguments=arguments),"undefined"!=typeof console?(a.print||(a.print=function(e){console.log(e)}),a.printErr||(a.printErr=function(e){console.warn(e)})):a.print||(a.print=function(){}),p&&(a.load=importScripts),void 0===a.setWindowTitle&&(a.setWindowTitle=function(e){document.title=e})}!a.load&&a.read&&(a.load=function(e){aa(a.read(e))}),a.print||(a.print=function(){}),a.printErr||(a.printErr=a.print),a.arguments||(a.arguments=[]),a.thisProgram||(a.thisProgram="./this.program"),a.quit||(a.quit=function(e,t){throw t}),a.print=a.print,a.d=a.printErr,a.preRun=[],a.postRun=[];for(m in k)k.hasOwnProperty(m)&&(a[m]=k[m]);var k=void 0,y={C:function(e){return tempRet0=e},w:function(){return tempRet0},o:function(){return x},n:function(e){x=e},l:function(e){switch(e){case"i1":case"i8":return 1;case"i16":return 2;case"i32":return 4;case"i64":return 8;case"float":return 4;case"double":return 8;default:return"*"===e[e.length-1]?y.f:"i"===e[0]?(e=parseInt(e.substr(1)),assert(0==e%8),e/8):0}},v:function(e){return Math.max(y.l(e),y.f)},D:16,R:function(e,t){return"double"===t||"i64"===t?7&e&&(assert(4==(7&e)),e+=4):assert(0==(3&e)),e},L:function(e,t,a){return a||"i64"!=e&&"double"!=e?e?Math.min(t||(e?y.v(e):0),y.f):Math.min(t,8):8},h:function(e,t,n){return n&&n.length?a["dynCall_"+e].apply(null,[t].concat(n)):a["dynCall_"+e].call(null,t)},c:[],q:function(e){for(var t=0;t<y.c.length;t++)if(!y.c[t])return y.c[t]=e,2*(1+t);throw"Finished up all reserved function pointers. Use a higher value for RESERVED_FUNCTION_POINTERS."},B:function(e){y.c[(e-2)/2]=null},b:function(e){y.b.j||(y.b.j={}),y.b.j[e]||(y.b.j[e]=1,a.d(e))},i:{},N:function(e,t){if(e){assert(t),y.i[t]||(y.i[t]={});var a=y.i[t];return a[e]||(a[e]=1===t.length?function(){return y.h(t,e)}:2===t.length?function(a){return y.h(t,e,[a])}:function(){return y.h(t,e,Array.prototype.slice.call(arguments))}),a[e]}},M:function(){throw"You must build with -s RETAIN_COMPILER_SETTINGS=1 for Runtime.getCompilerSetting or emscripten_get_compiler_setting to work"},m:function(e){var t=x;return x=x+e|0,x=x+15&-16,t},p:function(e){var t=z;return z=z+e|0,z=z+15&-16,t},u:function(e){var t=A[B>>2];return e=-16&(t+e+15|0),A[B>>2]=e,(e=e>=E)&&(F(),e=!0),e?(A[B>>2]=t,0):t},k:function(e,t){return Math.ceil(e/(t||16))*(t||16)},Q:function(e,t,a){return a?+(e>>>0)+4294967296*+(t>>>0):+(e>>>0)+4294967296*+(0|t)},e:1024,f:4,F:0};y.addFunction=y.q,y.removeFunction=y.B;var G=0;"undefined"!=typeof TextDecoder&&new TextDecoder("utf8"),"undefined"!=typeof TextDecoder&&new TextDecoder("utf-16le");var buffer,I,O,J,ka,A,la,K,L,R,z,na,x,S,oa,B;R=z=na=x=S=oa=B=0;var pa=a.TOTAL_STACK||5242880,E=a.TOTAL_MEMORY||16777216;if(E<pa&&a.d("TOTAL_MEMORY should be larger than TOTAL_STACK, was "+E+"! (TOTAL_STACK="+pa+")"),a.buffer?buffer=a.buffer:"object"==typeof WebAssembly&&"function"==typeof WebAssembly.Memory?(a.wasmMemory=new WebAssembly.Memory({initial:E/65536,maximum:E/65536}),buffer=a.wasmMemory.buffer):buffer=new ArrayBuffer(E),ma(),A[0]=1668509029,J[1]=25459,115!==O[2]||99!==O[3])throw"Runtime error: expected the system to be little-endian!";a.HEAP=void 0,a.buffer=buffer,a.HEAP8=I,a.HEAP16=J,a.HEAP32=A,a.HEAPU8=O,a.HEAPU16=ka,a.HEAPU32=la,a.HEAPF32=K,a.HEAPF64=L;var qa=[],ra=[],sa=[],ua=[],va=[],U=!1;if(Math.imul&&-5===Math.imul(4294967295,5)||(Math.imul=function(e,t){var a=65535&e,n=65535&t;return a*n+((e>>>16)*n+a*(t>>>16)<<16)|0}),Math.P=Math.imul,!Math.fround){var ya=new Float32Array(1);Math.fround=function(e){return ya[0]=e,ya[0]}}Math.J=Math.fround,Math.clz32||(Math.clz32=function(e){e>>>=0;for(var t=0;32>t;t++)if(e&1<<31-t)return t;return 32}),Math.H=Math.clz32,Math.trunc||(Math.trunc=function(e){return 0>e?Math.ceil(e):Math.floor(e)}),Math.trunc=Math.trunc;var ca=Math.abs,fa=Math.ceil,ea=Math.floor,da=Math.min,V=0,za=null,W=null;a.preloadedImages={},a.preloadedAudios={};var X=null;!function(){function e(e){var t=a.usingWasm?65536:16777216;0<e%t&&(e+=t-e%t);var n=(t=a.buffer).byteLength;if(!a.usingWasm)return o.__growWasmMemory((e-n)/65536),a.buffer!==t?a.buffer:null;try{return-1!==a.wasmMemory.grow((e-n)/65536)?a.buffer=a.wasmMemory.buffer:null}catch(e){return null}}function t(){return a.wasmBinary||!n&&!p||"function"!=typeof fetch?new Promise(function(e){var t;e:{try{var n;if(a.wasmBinary)n=a.wasmBinary,n=new Uint8Array(n);else{if(!a.readBinary)throw"on the web, we need the wasm binary to be preloaded and set on Module['wasmBinary']. emcc.py will do that for you when generating HTML (but not JS)";n=a.readBinary(i)}t=n;break e}catch(e){H(e)}t=void 0}e(t)}):fetch(i,{t:"same-origin"}).then(function(e){if(!e.ok)throw"failed to load wasm binary file at '"+i+"'";return e.arrayBuffer()})}function r(e,n){function r(e){if((o=e.exports).memory){e=o.memory;t=a.buffer;e.byteLength<t.byteLength&&a.printErr("the new buffer in mergeMemory is smaller than the previous one. in native wasm, we should grow memory here");var t=new Int8Array(t),n=new Int8Array(e);X||t.set(n.subarray(a.STATIC_BASE,a.STATIC_BASE+a.STATIC_BUMP),a.STATIC_BASE),n.set(t),a.buffer=buffer=e,ma()}a.asm=o,a.usingWasm=!0,Ba()}function u(e){r(e.instance)}function l(e){t().then(function(e){return WebAssembly.instantiate(e,s)}).then(e).catch(function(e){a.printErr("failed to asynchronously prepare wasm: "+e),H(e)})}if("object"!=typeof WebAssembly)return a.printErr("no native wasm support detected"),!1;if(!(a.wasmMemory instanceof WebAssembly.Memory))return a.printErr("no native wasm Memory in use"),!1;if(n.memory=a.wasmMemory,s.global={NaN:NaN,Infinity:1/0},s["global.Math"]=e.Math,s.env=n,Aa(),a.instantiateWasm)try{return a.instantiateWasm(s,r)}catch(e){return a.printErr("Module.instantiateWasm callback failed with error: "+e),!1}return a.wasmBinary||"function"!=typeof WebAssembly.A?l(u):WebAssembly.A(fetch(i,{t:"same-origin"}),s).then(u).catch(function(e){a.printErr("wasm streaming compile failed: "+e),a.printErr("falling back to ArrayBuffer instantiation"),l(u)}),{}}a.wasmJSMethod=a.wasmJSMethod||"native-wasm",a.locateFile(a.wasmTextFile||"noise-c.wast");var i=a.locateFile(a.wasmBinaryFile||"noise-c.wasm");a.locateFile(a.asmjsCodeFile||"noise-c.temp.asm.js");var s={global:null,env:null,asm2wasm:{"f64-rem":function(e,t){return e%t},"f64-to-int":function(e){return 0|e},"i32s-div":function(e,t){return(0|e)/(0|t)|0},"i32u-div":function(e,t){return(e>>>0)/(t>>>0)>>>0},"i32s-rem":function(e,t){return(0|e)%(0|t)|0},"i32u-rem":function(e,t){return(e>>>0)%(t>>>0)>>>0},debugger:function(){}},parent:a},o=null;a.asmPreload=a.asm;var u=a.reallocBuffer;a.reallocBuffer=function(t){return"asmjs"===l?u(t):e(t)};var l="";a.asm=function(e,t){if(!t.table){var n=a.wasmTableSize;void 0===n&&(n=1024);var i=a.wasmMaxTableSize;t.table="object"==typeof WebAssembly&&"function"==typeof WebAssembly.Table?void 0!==i?new WebAssembly.Table({initial:n,maximum:i,element:"anyfunc"}):new WebAssembly.Table({initial:n,element:"anyfunc"}):Array(n),a.wasmTable=t.table}return t.memoryBase||(t.memoryBase=a.STATIC_BASE),t.tableBase||(t.tableBase=0),r(e,t)}}(),R=y.e,z=R+42992,ra.push(),X=0<=a.wasmJSMethod.indexOf("asmjs")||0<=a.wasmJSMethod.indexOf("interpret-asm2wasm")?"noise-c.js.mem":null,a.STATIC_BASE=R,a.STATIC_BUMP=42992;var Ca=z;z+=16,B=M(1,"i32",2),na=x=y.k(z),S=na+pa,oa=y.k(S),A[B>>2]=oa,a.wasmTableSize=68,a.wasmMaxTableSize=68,a.r={Math:Math,Int8Array:Int8Array,Int16Array:Int16Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array,NaN:NaN,Infinity:1/0},a.s={abort:H,assert:assert,enlargeMemory:function(){F()},getTotalMemory:function(){return E},abortOnCannotGrowMemory:F,invoke_iiiiii:function(e,t,n,r,i,s){try{return a.dynCall_iiiiii(e,t,n,r,i,s)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;a.setThrew(1,0)}},invoke_i:function(e){try{return a.dynCall_i(e)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;a.setThrew(1,0)}},invoke_vi:function(e,t){try{a.dynCall_vi(e,t)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;a.setThrew(1,0)}},invoke_vii:function(e,t,n){try{a.dynCall_vii(e,t,n)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;a.setThrew(1,0)}},invoke_iiii:function(e,t,n,r){try{return a.dynCall_iiii(e,t,n,r)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;a.setThrew(1,0)}},invoke_viii:function(e,t,n,r){try{a.dynCall_viii(e,t,n,r)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;a.setThrew(1,0)}},invoke_iii:function(e,t,n){try{return a.dynCall_iii(e,t,n)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;a.setThrew(1,0)}},_noise_rand_bytes:function(e,t){var a;a=require("./src/randombytes"),O.set(a(t),e)},_llvm_stacksave:Y,___setErrNo:function(e){return a.___errno_location&&(A[a.___errno_location()>>2]=e),e},_emscripten_memcpy_big:function(e,t,a){return O.set(O.subarray(t,t+a),e),e},_llvm_stackrestore:function(e){var t=Y.a[e];Y.a.splice(e,1),y.n(t)},___assert_fail:function(e,t,a,n){throw G=!0,"Assertion failed: "+P(e)+", at: "+[t?P(t):"unknown filename",a,n?P(n):"unknown function"]+" at "+ja()},DYNAMICTOP_PTR:B,tempDoublePtr:Ca,ABORT:G,STACKTOP:x,STACK_MAX:S};var Da=a.asm(a.r,a.s,buffer);a.asm=Da,a._noise_symmetricstate_split=function(){return a.asm._noise_symmetricstate_split.apply(null,arguments)},a.runPostSets=function(){return a.asm.runPostSets.apply(null,arguments)},a.stackSave=function(){return a.asm.stackSave.apply(null,arguments)},a._NoiseBuffer_get_size=function(){return a.asm._NoiseBuffer_get_size.apply(null,arguments)},a._noise_cipherstate_decrypt_with_ad=function(){return a.asm._noise_cipherstate_decrypt_with_ad.apply(null,arguments)},a.getTempRet0=function(){return a.asm.getTempRet0.apply(null,arguments)},a._noise_cipherstate_encrypt_with_ad=function(){return a.asm._noise_cipherstate_encrypt_with_ad.apply(null,arguments)},a.setTempRet0=function(){return a.asm.setTempRet0.apply(null,arguments)},a._noise_handshakestate_get_local_keypair_dh=function(){return a.asm._noise_handshakestate_get_local_keypair_dh.apply(null,arguments)},a._noise_handshakestate_free=function(){return a.asm._noise_handshakestate_free.apply(null,arguments)},a._sbrk=function(){return a.asm._sbrk.apply(null,arguments)},a._noise_handshakestate_needs_remote_public_key=function(){return a.asm._noise_handshakestate_needs_remote_public_key.apply(null,arguments)},a._noise_dhstate_set_public_key=function(){return a.asm._noise_dhstate_set_public_key.apply(null,arguments)},a._noise_symmetricstate_get_mac_length=function(){return a.asm._noise_symmetricstate_get_mac_length.apply(null,arguments)},a._noise_cipherstate_get_mac_length=function(){return a.asm._noise_cipherstate_get_mac_length.apply(null,arguments)},a._noise_handshakestate_read_message=function(){return a.asm._noise_handshakestate_read_message.apply(null,arguments)},a._noise_dhstate_set_keypair_private=function(){return a.asm._noise_dhstate_set_keypair_private.apply(null,arguments)},a._memset=function(){return a.asm._memset.apply(null,arguments)},a._noise_handshakestate_needs_pre_shared_key=function(){return a.asm._noise_handshakestate_needs_pre_shared_key.apply(null,arguments)},a._noise_cipherstate_has_key=function(){return a.asm._noise_cipherstate_has_key.apply(null,arguments)},a._noise_cipherstate_free=function(){return a.asm._noise_cipherstate_free.apply(null,arguments)},a._memcpy=function(){return a.asm._memcpy.apply(null,arguments)},a._noise_handshakestate_set_prologue=function(){return a.asm._noise_handshakestate_set_prologue.apply(null,arguments)},a.stackAlloc=function(){return a.asm.stackAlloc.apply(null,arguments)},a._noise_handshakestate_new_by_name=function(){return a.asm._noise_handshakestate_new_by_name.apply(null,arguments)},a._noise_handshakestate_fallback_to=function(){return a.asm._noise_handshakestate_fallback_to.apply(null,arguments)},a._noise_handshakestate_get_fixed_hybrid_dh=function(){return a.asm._noise_handshakestate_get_fixed_hybrid_dh.apply(null,arguments)},a._noise_handshakestate_split=function(){return a.asm._noise_handshakestate_split.apply(null,arguments)},a._noise_handshakestate_start=function(){return a.asm._noise_handshakestate_start.apply(null,arguments)},a.stackRestore=function(){return a.asm.stackRestore.apply(null,arguments)},a._noise_handshakestate_write_message=function(){return a.asm._noise_handshakestate_write_message.apply(null,arguments)},a._llvm_bswap_i16=function(){return a.asm._llvm_bswap_i16.apply(null,arguments)},a._emscripten_get_global_libc=function(){return a.asm._emscripten_get_global_libc.apply(null,arguments)},a._noise_handshakestate_get_remote_public_key_dh=function(){return a.asm._noise_handshakestate_get_remote_public_key_dh.apply(null,arguments)},a._noise_symmetricstate_encrypt_and_hash=function(){return a.asm._noise_symmetricstate_encrypt_and_hash.apply(null,arguments)},a._noise_symmetricstate_mix_key=function(){return a.asm._noise_symmetricstate_mix_key.apply(null,arguments)},a._noise_cipherstate_new_by_id=function(){return a.asm._noise_cipherstate_new_by_id.apply(null,arguments)},a._llvm_bswap_i32=function(){return a.asm._llvm_bswap_i32.apply(null,arguments)},a._NoiseBuffer_create=function(){return a.asm._NoiseBuffer_create.apply(null,arguments)},a._SymmetricState_get_ck=function(){return a.asm._SymmetricState_get_ck.apply(null,arguments)},a._noise_symmetricstate_mix_hash=function(){return a.asm._noise_symmetricstate_mix_hash.apply(null,arguments)},a._noise_handshakestate_needs_local_keypair=function(){return a.asm._noise_handshakestate_needs_local_keypair.apply(null,arguments)};var Q=a._free=function(){return a.asm._free.apply(null,arguments)};a._noise_handshakestate_get_fixed_ephemeral_dh=function(){return a.asm._noise_handshakestate_get_fixed_ephemeral_dh.apply(null,arguments)},a.setThrew=function(){return a.asm.setThrew.apply(null,arguments)},a.establishStackSpace=function(){return a.asm.establishStackSpace.apply(null,arguments)},a._noise_symmetricstate_free=function(){return a.asm._noise_symmetricstate_free.apply(null,arguments)},a._noise_symmetricstate_new_by_name=function(){return a.asm._noise_symmetricstate_new_by_name.apply(null,arguments)},a._noise_handshakestate_get_action=function(){return a.asm._noise_handshakestate_get_action.apply(null,arguments)},a._noise_handshakestate_get_handshake_hash=function(){return a.asm._noise_handshakestate_get_handshake_hash.apply(null,arguments)};var N=a._malloc=function(){return a.asm._malloc.apply(null,arguments)};if(a._noise_symmetricstate_decrypt_and_hash=function(){return a.asm._noise_symmetricstate_decrypt_and_hash.apply(null,arguments)},a._noise_cipherstate_init_key=function(){return a.asm._noise_cipherstate_init_key.apply(null,arguments)},a._noise_handshakestate_set_pre_shared_key=function(){return a.asm._noise_handshakestate_set_pre_shared_key.apply(null,arguments)},a.dynCall_iiiiii=function(){return a.asm.dynCall_iiiiii.apply(null,arguments)},a.dynCall_i=function(){return a.asm.dynCall_i.apply(null,arguments)},a.dynCall_vi=function(){return a.asm.dynCall_vi.apply(null,arguments)},a.dynCall_vii=function(){return a.asm.dynCall_vii.apply(null,arguments)},a.dynCall_iiii=function(){return a.asm.dynCall_iiii.apply(null,arguments)},a.dynCall_viii=function(){return a.asm.dynCall_viii.apply(null,arguments)},a.dynCall_iii=function(){return a.asm.dynCall_iii.apply(null,arguments)},y.m=a.stackAlloc,y.o=a.stackSave,y.n=a.stackRestore,y.I=a.establishStackSpace,y.C=a.setTempRet0,y.w=a.getTempRet0,a.asm=Da,X)if(X=a.memoryInitializerPrefixURL?a.memoryInitializerPrefixURL+X:a.locateFile(X),q||t){var Ea=a.readBinary(X);O.set(Ea,y.e)}else{var Ga=function(){a.readAsync(X,Fa,function(){throw"could not load memory initializer "+X})};Aa();var Fa=function(e){e.byteLength&&(e=new Uint8Array(e)),O.set(e,y.e),a.memoryInitializerRequest&&delete a.memoryInitializerRequest.response,Ba()};if(a.memoryInitializerRequest){var Ha=function(){var e=a.memoryInitializerRequest;200!==e.status&&0!==e.status?(console.warn("a problem seems to have happened with Module.memoryInitializerRequest, status: "+e.status+", retrying "+X),Ga()):Fa(e.response)};a.memoryInitializerRequest.response?setTimeout(Ha,0):a.memoryInitializerRequest.addEventListener("load",Ha)}else Ga()}a.then=function(e){if(a.calledRun)e(a);else{var t=a.onRuntimeInitialized;a.onRuntimeInitialized=function(){t&&t(),e(a)}}return a},w.prototype=Error(),w.prototype.constructor=w;var Ia=null,W=function e(){a.calledRun||Ka(),a.calledRun||(W=e)};a.callMain=a.G=function(e){function t(){for(var e=0;3>e;e++)r.push(0)}e=e||[],U||(U=!0,T(ra));var n=e.length+1,r=[M(xa(a.thisProgram),"i8",0)];t();for(var i=0;i<n-1;i+=1)r.push(M(xa(e[i]),"i8",0)),t();r.push(0),r=M(r,"i32",0);try{Ma(a._main(n,r,0),!0)}catch(t){t instanceof w||("SimulateInfiniteLoop"==t?a.noExitRuntime=!0:((e=t)&&"object"==typeof t&&t.stack&&(e=[t,t.stack]),a.d("exception thrown: "+e),a.quit(1,t)))}},a.run=a.run=Ka,a.exit=a.exit=Ma;var Oa=[];if(a.abort=a.abort=H,a.preInit)for("function"==typeof a.preInit&&(a.preInit=[a.preInit]);0<a.preInit.length;)a.preInit.pop()();var Na=!0;return a.noInitialRun&&(Na=!1),a.noExitRuntime=!0,Ka(),function(){function e(e){if(e&&e.buffer instanceof ArrayBuffer)e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength);else if("string"==typeof e){for(var t=e.length,a=new Uint8Array(t+1),n=0;n<t;++n)a[n]=e.charCodeAt(n);return a}return e}function t(a,n){var i;return i=new Number(a),i.length=n,i.get=function(e){return new(e=e||Uint8Array)(buffer,i,n/e.BYTES_PER_ELEMENT).slice()},i.dereference=function(e){return e=e||4,t(i.get(Uint32Array)[0],e)},i.set=function(t){if((t=e(t)).length>n)throw RangeError("invalid array length");O.set(t,i)},i.free=function(){Q(i),r.splice(r.indexOf(i),1)},r.push(i),i}function n(a,n){var r;return n=e(n),0===a&&(a=n.length),r=t(N(a),a),void 0!==n?(r.set(n),n.length<a&&O.fill(0,r+n.length,r+a)):O.fill(0,r,r+a),r}var r=[];a.createPointer=t,a.allocatePointer=function(e){return e&&(e=Uint32Array.a(e)),n(4,e)},a.allocateBytes=n,a.freeBytes=function(){for(var e=0,t=r.length;e<t;++e)Q(r[e]);r=[]}}(),Module};"object"==typeof module&&module.exports&&(module.exports=Module)},{"./src/randombytes":4,fs:void 0,path:void 0}],2:[function(e,t,a){(function(){t.exports={NOISE_CIPHER_NONE:0,NOISE_CIPHER_CHACHAPOLY:17153,NOISE_CIPHER_AESGCM:17154,NOISE_PATTERN_XX_FALLBACK:20496,NOISE_PATTERN_XX_FALLBACK_HFS:20540,NOISE_ROLE_INITIATOR:20993,NOISE_ROLE_RESPONDER:20994,NOISE_ACTION_NONE:0,NOISE_ACTION_WRITE_MESSAGE:16641,NOISE_ACTION_READ_MESSAGE:16642,NOISE_ACTION_FAILED:16643,NOISE_ACTION_SPLIT:16644,NOISE_ERROR_NONE:0,NOISE_ERROR_NO_MEMORY:17665,NOISE_ERROR_UNKNOWN_ID:17666,NOISE_ERROR_UNKNOWN_NAME:17667,NOISE_ERROR_MAC_FAILURE:17668,NOISE_ERROR_NOT_APPLICABLE:17669,NOISE_ERROR_SYSTEM:17670,NOISE_ERROR_REMOTE_KEY_REQUIRED:17671,NOISE_ERROR_LOCAL_KEY_REQUIRED:17672,NOISE_ERROR_PSK_REQUIRED:17673,NOISE_ERROR_INVALID_LENGTH:17674,NOISE_ERROR_INVALID_PARAM:17675,NOISE_ERROR_INVALID_STATE:17676,NOISE_ERROR_INVALID_NONCE:17677,NOISE_ERROR_INVALID_PRIVATE_KEY:17678,NOISE_ERROR_INVALID_PUBLIC_KEY:17679,NOISE_ERROR_INVALID_FORMAT:17680,NOISE_ERROR_INVALID_SIGNATURE:17681,NOISE_MAX_PAYLOAD_LEN:65535}}).call(this)},{}],3:[function(t,a,n){(function(){function n(e,t){var a,n;return a=h(),c._NoiseBuffer_create(a,e,t,e.length),n=a.dereference(),a.free(),n}function r(e,t){var a,n;if(e!==_.NOISE_ERROR_NONE)for(a in n=_)if(n[a]===e){if(t)try{t.free()}catch(e){}throw new Error(a)}}function i(e){var t;if(!(this instanceof i))return new i(e);t=h(),r(c._noise_cipherstate_new_by_id(t,e),t),this._state=t.dereference(),this._mac_length=c._noise_cipherstate_get_mac_length(this._state),t.free()}function o(e){this._state=e,this._mac_length=c._noise_cipherstate_get_mac_length(this._state)}function u(e){var t,a=this;if(!(this instanceof u))return new u(e);t=h(),e=f(0,e),r(c._noise_symmetricstate_new_by_name(t,e),t),this._state=t.dereference(),t.free(),e.free(),Object.defineProperty(this,"_mac_length",{configurable:!0,get:function(){var e;return(e=c._noise_symmetricstate_get_mac_length(a._state))>0&&(a._mac_length=e),e}})}function l(t,a){var n,i;if(!(this instanceof l))return new l(t,a,prologue,s,e,rs,re,psk);n=h(),t=f(0,t),i=c._noise_handshakestate_new_by_name(n,t,a),t.free(),r(i,n),this._state=n.dereference(),n.free()}var _,c,f,h;_=t("./constants"),c=t("../noise-c")(),a.exports={ready:c.then,constants:_,CipherState:i,SymmetricState:u,HandshakeState:l,_lib_internal:c},f=c.allocateBytes,h=c.allocatePointer,i.prototype={InitializeKey:function(e){var t;e=f(0,e),t=c._noise_cipherstate_init_key(this._state,e,e.length),e.free(),r(t,this)},HasKey:function(){return 1===c._noise_cipherstate_has_key(this._state)},EncryptWithAd:function(e,t){var a,i,s;return e=f(0,e),t=f(t.length+this._mac_length,t),a=n(t,t.length-this._mac_length),i=c._noise_cipherstate_encrypt_with_ad(this._state,e,e.length,a),s=t.get(),e.free(),t.free(),a.free(),r(i),s},DecryptWithAd:function(e,t){var a,i,s;return e=f(0,e),t=f(0,t),a=n(t,t.length),i=c._noise_cipherstate_decrypt_with_ad(this._state,e,e.length,a),s=t.get().slice(0,t.length-this._mac_length),e.free(),t.free(),a.free(),r(i),s},Rekey:function(){throw"Not implemented"},free:function(){var e;e=c._noise_cipherstate_free(this._state),delete this._state,delete this._mac_length,r(e)}},Object.defineProperty(i.prototype,"constructor",{enumerable:!1,value:i}),o.prototype=Object.create(i.prototype),Object.defineProperty(o.prototype,"constructor",{enumerable:!1,value:o}),u.prototype={MixKey:function(e){var t;e=f(0,e),t=c._noise_symmetricstate_mix_key(this._state,e,e.length),e.free(),r(t,this)},MixHash:function(e){var t;e=f(0,e),t=c._noise_symmetricstate_mix_hash(this._state,e,e.length),e.free(),r(t,this)},MixKeyAndHash:function(e){var t,a,n,r;this.MixKey(e),t=h(),a=c._SymmetricState_get_ck(this._state,t),n=t.dereference(a),t.free(),r=n.get(),n.free(),this.MixHash(r)},EncryptAndHash:function(e){var t,a,i;return e=f(e.length+this._mac_length,e),t=n(e,e.length-this._mac_length),a=c._noise_symmetricstate_encrypt_and_hash(this._state,t),i=e.get(),e.free(),t.free(),r(a,this),i},DecryptAndHash:function(e){var t,a,i;return e=f(0,e),t=n(e,e.length),a=c._noise_symmetricstate_decrypt_and_hash(this._state,t),i=e.get().slice(0,e.length-this._mac_length),e.free(),t.free(),r(a,this),i},Split:function(){var e,t,a,n,i,s;e=h(),t=h(),a=c._noise_symmetricstate_split(this._state,e,t);try{r(a)}catch(a){throw n=a,e.free(),t.free(),n}i=new o(e.dereference()),s=new o(t.dereference()),e.free(),t.free();try{this.free()}catch(e){n=e;try{i.free()}catch(e){}try{s.free()}catch(e){}throw n}return[i,s]},free:function(){var e;e=c._noise_symmetricstate_free(this._state),delete this._state,delete this._mac_length,r(e)}},Object.defineProperty(u.prototype,"constructor",{enumerable:!1,value:u}),l.prototype={Initialize:function(e,t,a,n){var i,s;if(null==e&&(e=null),null==t&&(t=null),null==a&&(a=null),null==n&&(n=null),e&&(e=f(0,e),i=c._noise_handshakestate_set_prologue(this._state,e,e.length),e.free(),r(i,this)),n&&1===c._noise_handshakestate_needs_pre_shared_key(this._state)&&(n=f(0,n),i=c._noise_handshakestate_set_pre_shared_key(this._state,n,n.length),n.free(),r(i,this)),1===c._noise_handshakestate_needs_local_keypair(this._state)){if(!t)throw new Error("Local static private key (s) required, but not provided");s=c._noise_handshakestate_get_local_keypair_dh(this._state),t=f(0,t),i=c._noise_dhstate_set_keypair_private(s,t,t.length),t.free(),r(i,this)}if(1===c._noise_handshakestate_needs_remote_public_key(this._state)){if(!a)throw new Error("Remote static private key (rs) required, but not provided");s=c._noise_handshakestate_get_remote_public_key_dh(this._state),a=f(0,a),i=c._noise_dhstate_set_public_key(s,a,a.length),a.free(),r(i,this)}r(i=c._noise_handshakestate_start(this._state),this)},GetAction:function(){return c._noise_handshakestate_get_action(this._state)},FallbackTo:function(e){null==e&&(e=_.NOISE_PATTERN_XX_FALLBACK),r(c._noise_handshakestate_fallback_to(this._state,e),this)},WriteMessage:function(e){var t,a,i,s,o,u,l;null==e&&(e=null),t=f(_.NOISE_MAX_PAYLOAD_LEN),a=n(t,0),i=null,e&&(i=n(e=f(0,e),e.length)),s=c._noise_handshakestate_write_message(this._state,a,i),e&&(e.free(),i.free());try{r(s,this)}catch(e){throw o=e,t.free(),a.free(),o}return u=c._NoiseBuffer_get_size(a),l=t.get().slice(0,u),t.free(),a.free(),l},ReadMessage:function(e,t,a){var i,s,o,u,l,h,p;null==t&&(t=!1),null==a&&(a=!1),i=n(e=f(0,e),e.length),s=null,t&&(o=f(_.NOISE_MAX_PAYLOAD_LEN),s=n(o,o.length)),u=c._noise_handshakestate_read_message(this._state,i,s),e.free(),i.free();try{r(u,a?void 0:this)}catch(e){throw l=e,t&&(o.free(),s.free()),l}return h=null,t&&(p=c._NoiseBuffer_get_size(s),h=o.get().slice(0,p),o.free(),s.free()),h},Split:function(){var e,t,a,n,i,s;e=h(),t=h(),a=c._noise_handshakestate_split(this._state,e,t);try{r(a,this)}catch(a){throw n=a,e.free(),t.free(),n}i=new o(e.dereference()),s=new o(t.dereference()),e.free(),t.free();try{this.free()}catch(e){n=e;try{i.free()}catch(e){}try{s.free()}catch(e){}throw n}return[i,s]},free:function(){var e;e=c._noise_handshakestate_free(this._state),delete this._state,r(e)}},Object.defineProperty(l.prototype,"constructor",{enumerable:!1,value:l})}).call(this)},{"../noise-c":1,"./constants":2}],4:[function(e,t,a){t.exports=function(e){var t=new Uint8Array(e);return crypto.getRandomValues(t),t}},{}]},{},[3])(3)});